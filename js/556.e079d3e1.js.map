{"version":3,"file":"js/556.e079d3e1.js","mappings":"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","sources":["webpack://hello/./src/components/FilmList.vue","webpack://hello/src/components/FilmList.vue","webpack://hello/./src/components/FilmList.vue?e2fb","webpack://hello/./src/components/FilmList.vue?1b8e","webpack://hello/./node_modules/vant/es/utils/constant.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('van-tabs',{attrs:{\"swipeable\":true,\"sticky\":true,\"offset-top\":Math.floor(_vm.headerHeight-1),\"animated\":\"\",\"swipe-threshold\":3.5,\"title-active-color\":\"green\"},on:{\"change\":_vm.choose}},_vm._l((_vm.filmsInfo[_vm.currentIndex].showDate),function(item,index){return _c('van-tab',{key:index,staticClass:\"tabList\",attrs:{\"title\":_vm.currenDate(item*1000,['week','month','day'])}},[_vm._l((_vm.schedules[index]),function(item){return _c('div',{key:item.scheduleId,staticClass:\"schedule-item\"},[_c('div',{staticClass:\"left\"},[_c('span',{staticClass:\"top\"},[_vm._v(_vm._s(_vm.currenDate(item.showAt*1000,[\"hour\",\"minute\"])))]),_c('span',{staticClass:\"bottom\"},[_vm._v(_vm._s(_vm.currenDate(item.endAt*1000,[\"hour\",\"minute\"]))+\"散场\")])]),_c('div',{staticClass:\"middle\"},[_c('span',{staticClass:\"top\"},[_vm._v(_vm._s(item.filmLanguage)+_vm._s(item.imagery))]),_c('span',{staticClass:\"bottom\"},[_vm._v(_vm._s(item.hallName))])]),_c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"lowest-price\"},[_c('span',{staticClass:\"price-icon\"},[_vm._v(\"￥\")]),_vm._v(_vm._s(item.salePrice/100))]),_c('div',{staticClass:\"buy-ticket\",on:{\"click\":function($event){return _vm.buyTicket(item.scheduleId)}}},[_vm._v(\"购票\")])])])}),(!_vm.schedules[index])?_c('div',{staticClass:\"null\"},[_c('img',{attrs:{\"src\":\"https://assets.maizuo.com/h5/v5/public/app/img/emptyFilmList.4e4721ad.png\",\"alt\":\"\"}}),_c('div',{staticClass:\"text\"},[_vm._v(\"暂无场次\")])]):_vm._e()],2)}),1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\r\n        <van-tabs :swipeable=\"true\" :sticky=\"true\" :offset-top=\"Math.floor(headerHeight-1)\" animated @change='choose' :swipe-threshold=3.5 title-active-color='green' >\r\n        <van-tab  v-for=\"(item,index) in filmsInfo[currentIndex].showDate\" :title=\"currenDate(item*1000,['week','month','day'])\"   :key=\"index\" class=\"tabList\">\r\n            <div class=\"schedule-item\" v-for=\"(item) in schedules[index]\" :key=\"item.scheduleId\">\r\n                    <div class=\"left\"><span class=\"top\">{{currenDate(item.showAt*1000,[\"hour\",\"minute\"])}}</span><span class=\"bottom\">{{currenDate(item.endAt*1000,[\"hour\",\"minute\"])}}散场</span>\r\n                    </div>\r\n                    <div class=\"middle\"><span class=\"top\">{{item.filmLanguage}}{{item.imagery}}</span>\r\n                    <span class=\"bottom\">{{item.hallName}}</span>\r\n                    </div>\r\n                    <div class=\"right\"><div class=\"lowest-price\"><span class=\"price-icon\">￥</span>{{item.salePrice/100}}</div><div  class=\"buy-ticket\" @click=\"buyTicket(item.scheduleId)\">购票</div>\r\n                    </div>\r\n            </div>\r\n            <div v-if=\"!schedules[index]\" class=\"null\">\r\n                <img src=\"https://assets.maizuo.com/h5/v5/public/app/img/emptyFilmList.4e4721ad.png\" alt=\"\">\r\n                <div class=\"text\">暂无场次</div></div>\r\n        </van-tab>\r\n        </van-tabs> \r\n</template>\r\n<script>\r\nimport moment from \"moment\";\r\nimport http from \"@/util/http.js\";\r\nimport getTime from \"@/util/getTime.js\";\r\nimport { Tab, Tabs } from 'vant';\r\nexport default {\r\n  props: [\"filmsInfo\", \"currentIndex\", \"cinemaInfo\"],\r\n  // props:['data'],\r\n  data() {\r\n    return {\r\n      schedules: new Array(this.filmsInfo[this.currentIndex].showDate.length),\r\n      tag: true,\r\n      headerHeight:document.querySelector(\"header\").clientHeight\r\n    };\r\n  },\r\n  components:{\r\n    [Tab.name]:Tab,\r\n    [Tabs.name]:Tabs\r\n  },\r\n  mounted(){\r\n    this.schedulesList(0)\r\n  },\r\n  methods: {\r\n    buyTicket(scheduleId) {\r\n      // this.$store.commit('setCinemaId',this.cinemaInfo.cinemaId)\r\n      this.$router\r\n        .push({\r\n          name: \"schedule\",\r\n          params: {\r\n            scheduleId,\r\n          },\r\n        })\r\n        .catch(() => {});\r\n    },\r\n    choose(index) {\r\n      if (!this.schedules[index]) this.schedulesList(index);\r\n    },\r\n    schedulesList(index) {\r\n      http({\r\n        url: `/gateway/?filmId=${\r\n          this.filmsInfo[this.currentIndex].filmId\r\n        }&cinemaId=${this.cinemaInfo.cinemaId}&date=${\r\n          this.filmsInfo[this.currentIndex].showDate[index]\r\n        }&k=1024902`,\r\n        headers: {\r\n          \"X-Host\": \"mall.film-ticket.schedule.list\",\r\n          \"X-Token\":\r\n            \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhZ2VudElkIjoiMzAwMCIsInRpbWVzdGFtcCI6MTY2NDM0NzU3NCwidXNlcklkIjozMTkyMDU5N30.25T6y93Pt5RFo5U-Z5jJBtkKIo4RATWrY-vcHHmXSD4\",\r\n        },\r\n      }).then((res) => {\r\n        if (res.data.data)\r\n          this.$set(this.schedules, index, res.data.data.schedules);\r\n        // this.schedules[index] = res.data.data.schedules\r\n      });\r\n    },\r\n    currenDate(time, arr) {\r\n      return getTime(time, arr);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang='scss'>\r\n.null {\r\n  height: 11.25rem;\r\n  padding: 2.75rem 0;\r\n  text-align: center;\r\n  img {\r\n    height: 4.375rem;\r\n    margin: 0 auto 10px;\r\n  }\r\n  .text {\r\n    text-align: center;\r\n    color: #bdc0c5;\r\n    font-size: 14px;\r\n  }\r\n}\r\ndiv {\r\n  box-sizing: border-box;\r\n}\r\n.schedule-item {\r\n  background: #fff;\r\n  padding: 15px;\r\n  width: 100%;\r\n  height: 74px;\r\n  div {\r\n    float: left;\r\n  }\r\n  .top {\r\n    font-size: 15px;\r\n    color: #191a1b;\r\n    overflow: hidden;\r\n    -o-text-overflow: ellipsis;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n  }\r\n  .bottom {\r\n    font-size: 13px;\r\n    color: #797d82;\r\n    margin-top: 2px;\r\n  }\r\n  span {\r\n    display: block;\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n  }\r\n  .left {\r\n    width: 84px;\r\n  }\r\n  .middle {\r\n    width: calc(100% - 210px);\r\n  }\r\n  .right {\r\n    float: right;\r\n    width: 112px;\r\n    padding: 10px 0;\r\n    .lowest-price {\r\n      font-size: 15px;\r\n      line-height: 25px;\r\n      color: green;\r\n      float: left;\r\n    }\r\n    .price-icon {\r\n      font-size: 12px;\r\n      display: inline;\r\n      vertical-align: top;\r\n    }\r\n    .buy-ticket {\r\n      float: right;\r\n      line-height: 25px;\r\n      text-align: center;\r\n      font-size: 12px;\r\n      color: green;\r\n      height: 25px;\r\n      width: 50px;\r\n      border-radius: 2px;\r\n      position: relative;\r\n      text-align: center;\r\n      border: 1px solid green;\r\n    }\r\n  }\r\n}\r\n@keyframes run {\r\n  0% {\r\n    /* opacity: 0; */\r\n\r\n    transform: translateX(-6.25rem);\r\n  }\r\n  100% {\r\n    transform: translateX(0rem);\r\n    /* transform: translateX(0%); */\r\n  }\r\n}\r\n.h-enter-active {\r\n  animation: 0.3s run ease;\r\n}\r\n/* .h-leave-active{\r\n            animation: .3s run ease;\r\n} */\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FilmList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FilmList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FilmList.vue?vue&type=template&id=72e582ef&scoped=true&\"\nimport script from \"./FilmList.vue?vue&type=script&lang=js&\"\nexport * from \"./FilmList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FilmList.vue?vue&type=style&index=0&id=72e582ef&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"72e582ef\",\n  null\n  \n)\n\nexport default component.exports","// color\nexport var RED = '#ee0a24'; // border\n\nexport var BORDER = 'van-hairline';\nexport var BORDER_TOP = BORDER + \"--top\";\nexport var BORDER_LEFT = BORDER + \"--left\";\nexport var BORDER_BOTTOM = BORDER + \"--bottom\";\nexport var BORDER_SURROUND = BORDER + \"--surround\";\nexport var BORDER_TOP_BOTTOM = BORDER + \"--top-bottom\";\nexport var BORDER_UNSET_TOP_BOTTOM = BORDER + \"-unset--top-bottom\";"],"names":["render","_vm","this","_c","_self","attrs","Math","floor","headerHeight","on","choose","_l","filmsInfo","currentIndex","showDate","item","index","key","staticClass","currenDate","schedules","scheduleId","_v","_s","showAt","endAt","filmLanguage","imagery","hallName","salePrice","$event","buyTicket","_e","staticRenderFns","props","data","tag","components","mounted","methods","push","name","params","catch","schedulesList","http","url","headers","then","res","component","BORDER","BORDER_TOP","BORDER_LEFT","BORDER_BOTTOM","BORDER_SURROUND","BORDER_TOP_BOTTOM"],"sourceRoot":""}