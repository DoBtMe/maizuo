{"version":3,"file":"js/375.79d2473b.js","mappings":"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","sources":["webpack://hello/./src/views/City.vue","webpack://hello/./node_modules/vant/es/index-anchor/index.js","webpack://hello/./node_modules/vant/es/index-bar/index.js","webpack://hello/src/views/City.vue","webpack://hello/./src/views/City.vue?0f50","webpack://hello/./src/views/City.vue?04d0","webpack://hello/./node_modules/vant/es/utils/vnodes.js","webpack://hello/./node_modules/vant/es/mixins/relation.js","webpack://hello/./node_modules/vant/es/utils/constant.js","webpack://hello/./node_modules/vant/es/utils/dom/style.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.cityList.length)?_c('div',[_c('div',{staticClass:\"city-list\"},[_c('div',{staticClass:\"header\"},[_c('span',{staticClass:\"i\",on:{\"click\":function($event){return _vm.$router.back()}}},[_c('van-icon',{attrs:{\"name\":\"cross\"}})],1),_c('span',[_vm._v(\"当前城市 - \"+_vm._s(this.$store.state.cityName))]),_vm._v(\" \"),_c('span')]),_c('van-search',{attrs:{\"placeholder\":\"请输入搜索关键词\",\"show-action\":_vm.show},on:{\"focus\":function($event){_vm.show = true}},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1),_c('div',{staticClass:\"container\"},[(!_vm.value)?_c('van-index-bar',{attrs:{\"index-list\":_vm.computedList,\"highlight-color\":\"green\"},on:{\"select\":_vm.currrenIndex}},_vm._l((_vm.cityList),function(item,index){return _c('div',{key:index},[_c('van-index-anchor',{attrs:{\"index\":item.type}}),_vm._l((item.newList),function(v){return _c('van-cell',{key:v.cityId,attrs:{\"title\":v.name},on:{\"click\":function($event){return _vm.selectCity(v)}}})})],2)}),0):_vm._l((_vm.filterCity()),function(v){return _c('van-cell',{key:v.cityId,attrs:{\"title\":v.name},on:{\"click\":function($event){return _vm.selectCity(v)}}})})],2)]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { createNamespace } from '../utils';\nimport { ChildrenMixin } from '../mixins/relation';\nimport { BORDER_BOTTOM } from '../utils/constant';\nimport { getScrollTop, getRootScrollTop } from '../utils/dom/scroll';\n\nvar _createNamespace = createNamespace('index-anchor'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [ChildrenMixin('vanIndexBar', {\n    indexKey: 'childrenIndex'\n  })],\n  props: {\n    index: [Number, String]\n  },\n  data: function data() {\n    return {\n      top: 0,\n      left: null,\n      rect: {\n        top: 0,\n        height: 0\n      },\n      width: null,\n      active: false\n    };\n  },\n  computed: {\n    sticky: function sticky() {\n      return this.active && this.parent.sticky;\n    },\n    anchorStyle: function anchorStyle() {\n      if (this.sticky) {\n        return {\n          zIndex: \"\" + this.parent.zIndex,\n          left: this.left ? this.left + \"px\" : null,\n          width: this.width ? this.width + \"px\" : null,\n          transform: \"translate3d(0, \" + this.top + \"px, 0)\",\n          color: this.parent.highlightColor\n        };\n      }\n    }\n  },\n  mounted: function mounted() {\n    var rect = this.$el.getBoundingClientRect();\n    this.rect.height = rect.height;\n  },\n  methods: {\n    scrollIntoView: function scrollIntoView() {\n      this.$el.scrollIntoView();\n    },\n    getRect: function getRect(scroller, scrollerRect) {\n      var el = this.$el;\n      var elRect = el.getBoundingClientRect();\n      this.rect.height = elRect.height;\n\n      if (scroller === window || scroller === document.body) {\n        this.rect.top = elRect.top + getRootScrollTop();\n      } else {\n        this.rect.top = elRect.top + getScrollTop(scroller) - scrollerRect.top;\n      }\n\n      return this.rect;\n    }\n  },\n  render: function render() {\n    var _ref;\n\n    var h = arguments[0];\n    var sticky = this.sticky;\n    return h(\"div\", {\n      \"style\": {\n        height: sticky ? this.rect.height + \"px\" : null\n      }\n    }, [h(\"div\", {\n      \"style\": this.anchorStyle,\n      \"class\": [bem({\n        sticky: sticky\n      }), (_ref = {}, _ref[BORDER_BOTTOM] = sticky, _ref)]\n    }, [this.slots('default') || this.index])]);\n  }\n});","// Utils\nimport { createNamespace, isDef } from '../utils';\nimport { isHidden } from '../utils/dom/style';\nimport { preventDefault } from '../utils/dom/event';\nimport { getScroller, getScrollTop, getRootScrollTop, setRootScrollTop } from '../utils/dom/scroll'; // Mixins\n\nimport { TouchMixin } from '../mixins/touch';\nimport { ParentMixin } from '../mixins/relation';\nimport { BindEventMixin } from '../mixins/bind-event';\n\nfunction genAlphabet() {\n  var indexList = [];\n  var charCodeOfA = 'A'.charCodeAt(0);\n\n  for (var i = 0; i < 26; i++) {\n    indexList.push(String.fromCharCode(charCodeOfA + i));\n  }\n\n  return indexList;\n}\n\nvar _createNamespace = createNamespace('index-bar'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [TouchMixin, ParentMixin('vanIndexBar'), BindEventMixin(function (bind) {\n    if (!this.scroller) {\n      this.scroller = getScroller(this.$el);\n    }\n\n    bind(this.scroller, 'scroll', this.onScroll);\n  })],\n  props: {\n    zIndex: [Number, String],\n    highlightColor: String,\n    sticky: {\n      type: Boolean,\n      default: true\n    },\n    stickyOffsetTop: {\n      type: Number,\n      default: 0\n    },\n    indexList: {\n      type: Array,\n      default: genAlphabet\n    }\n  },\n  data: function data() {\n    return {\n      activeAnchorIndex: null\n    };\n  },\n  computed: {\n    sidebarStyle: function sidebarStyle() {\n      if (isDef(this.zIndex)) {\n        return {\n          zIndex: this.zIndex + 1\n        };\n      }\n    },\n    highlightStyle: function highlightStyle() {\n      var highlightColor = this.highlightColor;\n\n      if (highlightColor) {\n        return {\n          color: highlightColor\n        };\n      }\n    }\n  },\n  watch: {\n    indexList: function indexList() {\n      this.$nextTick(this.onScroll);\n    },\n    activeAnchorIndex: function activeAnchorIndex(value) {\n      if (value) {\n        this.$emit('change', value);\n      }\n    }\n  },\n  methods: {\n    onScroll: function onScroll() {\n      var _this = this;\n\n      if (isHidden(this.$el)) {\n        return;\n      }\n\n      var scrollTop = getScrollTop(this.scroller);\n      var scrollerRect = this.getScrollerRect();\n      var rects = this.children.map(function (item) {\n        return item.getRect(_this.scroller, scrollerRect);\n      });\n      var active = this.getActiveAnchorIndex(scrollTop, rects);\n      this.activeAnchorIndex = this.indexList[active];\n\n      if (this.sticky) {\n        this.children.forEach(function (item, index) {\n          if (index === active || index === active - 1) {\n            var rect = item.$el.getBoundingClientRect();\n            item.left = rect.left;\n            item.width = rect.width;\n          } else {\n            item.left = null;\n            item.width = null;\n          }\n\n          if (index === active) {\n            item.active = true;\n            item.top = Math.max(_this.stickyOffsetTop, rects[index].top - scrollTop) + scrollerRect.top;\n          } else if (index === active - 1) {\n            var activeItemTop = rects[active].top - scrollTop;\n            item.active = activeItemTop > 0;\n            item.top = activeItemTop + scrollerRect.top - rects[index].height;\n          } else {\n            item.active = false;\n          }\n        });\n      }\n    },\n    getScrollerRect: function getScrollerRect() {\n      if (this.scroller.getBoundingClientRect) {\n        return this.scroller.getBoundingClientRect();\n      }\n\n      return {\n        top: 0,\n        left: 0\n      };\n    },\n    getActiveAnchorIndex: function getActiveAnchorIndex(scrollTop, rects) {\n      for (var i = this.children.length - 1; i >= 0; i--) {\n        var prevHeight = i > 0 ? rects[i - 1].height : 0;\n        var reachTop = this.sticky ? prevHeight + this.stickyOffsetTop : 0;\n\n        if (scrollTop + reachTop >= rects[i].top) {\n          return i;\n        }\n      }\n\n      return -1;\n    },\n    onClick: function onClick(event) {\n      this.scrollToElement(event.target);\n    },\n    onTouchMove: function onTouchMove(event) {\n      this.touchMove(event);\n\n      if (this.direction === 'vertical') {\n        preventDefault(event);\n        var _event$touches$ = event.touches[0],\n            clientX = _event$touches$.clientX,\n            clientY = _event$touches$.clientY;\n        var target = document.elementFromPoint(clientX, clientY);\n\n        if (target) {\n          var index = target.dataset.index;\n          /* istanbul ignore else */\n\n          if (this.touchActiveIndex !== index) {\n            this.touchActiveIndex = index;\n            this.scrollToElement(target);\n          }\n        }\n      }\n    },\n    scrollTo: function scrollTo(index) {\n      var match = this.children.filter(function (item) {\n        return String(item.index) === index;\n      });\n\n      if (match[0]) {\n        match[0].scrollIntoView();\n\n        if (this.sticky && this.stickyOffsetTop) {\n          setRootScrollTop(getRootScrollTop() - this.stickyOffsetTop);\n        }\n\n        this.$emit('select', match[0].index);\n      }\n    },\n    scrollToElement: function scrollToElement(element) {\n      var index = element.dataset.index;\n      this.scrollTo(index);\n    },\n    onTouchEnd: function onTouchEnd() {\n      this.active = null;\n    }\n  },\n  render: function render() {\n    var _this2 = this;\n\n    var h = arguments[0];\n    var Indexes = this.indexList.map(function (index) {\n      var active = index === _this2.activeAnchorIndex;\n      return h(\"span\", {\n        \"class\": bem('index', {\n          active: active\n        }),\n        \"style\": active ? _this2.highlightStyle : null,\n        \"attrs\": {\n          \"data-index\": index\n        }\n      }, [index]);\n    });\n    return h(\"div\", {\n      \"class\": bem()\n    }, [h(\"div\", {\n      \"class\": bem('sidebar'),\n      \"style\": this.sidebarStyle,\n      \"on\": {\n        \"click\": this.onClick,\n        \"touchstart\": this.touchStart,\n        \"touchmove\": this.onTouchMove,\n        \"touchend\": this.onTouchEnd,\n        \"touchcancel\": this.onTouchEnd\n      }\n    }, [Indexes]), this.slots('default')]);\n  }\n});","<template>\r\n  <div v-if=\"cityList.length\">\r\n\r\n        <div class=\"city-list\">\r\n          <div class=\"header\">\r\n            <span class=\"i\" @click=\"$router.back()\"><van-icon name=\"cross\" /></span\r\n            ><span>当前城市 - {{ this.$store.state.cityName }}</span> <span></span>\r\n          </div>\r\n          <van-search\r\n            v-model=\"value\"\r\n            placeholder=\"请输入搜索关键词\"\r\n            :show-action=\"show\"\r\n            @focus=\"show = true\"\r\n          />\r\n    \r\n          <!-- {{filterCity()}} -->\r\n        </div>\r\n\r\n    <div class=\"container\">\r\n      <van-index-bar\r\n        v-if=\"!value\"\r\n        \r\n        :index-list=\"computedList\"\r\n        @select=\"currrenIndex\"\r\n        highlight-color=\"green\"\r\n      >\r\n        <div v-for=\"(item, index) in cityList\" :key=\"index\">\r\n          <van-index-anchor :index=\"item.type\" />\r\n          <van-cell\r\n            v-for=\"v in item.newList\"\r\n            :title=\"v.name\"\r\n            :key=\"v.cityId\"\r\n            @click=\"selectCity(v)\"\r\n          />\r\n        </div>\r\n      </van-index-bar>\r\n      <van-cell\r\n        v-else\r\n        v-for=\"v in filterCity()\"\r\n        :title=\"v.name\"\r\n        :key=\"v.cityId\"\r\n        @click=\"selectCity(v)\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n// import { IndexBar, IndexAnchor } from \"vant\";\r\nimport http from \"@/util/http.js\";\r\nimport { Toast, Search ,IndexBar,IndexAnchor,Icon,Cell} from \"vant\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      value: \"\",\r\n      cityList: [],\r\n      searchList: [],\r\n      show: false,\r\n    };\r\n  },\r\n  components: {\r\n    [Search.name]: Search,\r\n    [IndexBar.name]:IndexBar,\r\n    [IndexAnchor.name]:IndexAnchor,\r\n    [Cell.name]:Cell,\r\n    [Icon.name]:Icon\r\n  },\r\n  mounted() {\r\n    http({\r\n      //cityId\r\n      url: `/gateway?cityId=${130600}&ticketFlag=1&k=1173969`,\r\n      headers: { \"X-Host\": \"mall.film-ticket.city.list\" },\r\n    }).then((res) => {\r\n      this.searchList = res.data.data.cities;\r\n      this.cityList = this.cityFilter(res.data.data.cities);\r\n      this.$nextTick(() => {});\r\n    });\r\n  },\r\n  computed: {\r\n    computedList() {\r\n      return this.cityList.map((v) => v.type);\r\n    },\r\n  },\r\n  methods: {\r\n    filterCity() {\r\n      return this.searchList.filter((v) => {\r\n        return (\r\n          v.name.toUpperCase().includes(this.value.toUpperCase()) ||\r\n          v.pinyin.toUpperCase().includes(this.value.toUpperCase())\r\n        );\r\n      });\r\n    },\r\n    selectCity(city) {\r\n      this.$store.commit(\"selectCity\");\r\n      // this.$store.state.cityId = city.cityId;\r\n      this.$store.commit(\"changeCityId\", city.cityId);\r\n      // this.$store.state.cityName = city.name;\r\n      this.$store.commit(\"changeCityName\", city.name);\r\n      this.$router.back();\r\n    },\r\n    currrenIndex(index) {\r\n      Toast({\r\n        message: index,\r\n        duration: 1000,\r\n      });\r\n    },\r\n    cityFilter(cities) {\r\n      let dataList = [];\r\n      let letter = [];\r\n      for (let i = 65; i < 91; i++) {\r\n        letter.push(String.fromCharCode(i));\r\n      }\r\n      letter.forEach((v) => {\r\n        let list = cities.filter((item) => item.pinyin[0].toUpperCase() === v);\r\n        list.length > 0 && dataList.push({ type: v, newList: [...list] });\r\n      });\r\n      return [...dataList];\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped lang='scss'>\r\n\r\n.container{\r\n  overflow: auto;\r\n  height: calc(100vh - 98px);\r\n}\r\n.city-list {\r\n  z-index: 10;\r\n  position: sticky;\r\n  top: 0rem;\r\n}\r\n.city-list .header {\r\n  .i {\r\n    font-size: 26px;\r\n    position: absolute;\r\n    left: 5px;\r\n    color: gray;\r\n  }\r\n  // position: relative;\r\n  width: 100%;\r\n  height: 44px;\r\n  overflow: hidden;\r\n  background-color: #fff;\r\n  line-height: 44px;\r\n  text-align: center;\r\n  font-size: 17px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./City.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./City.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./City.vue?vue&type=template&id=1fdd7fa5&scoped=true&\"\nimport script from \"./City.vue?vue&type=script&lang=js&\"\nexport * from \"./City.vue?vue&type=script&lang=js&\"\nimport style0 from \"./City.vue?vue&type=style&index=0&id=1fdd7fa5&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1fdd7fa5\",\n  null\n  \n)\n\nexport default component.exports","function flattenVNodes(vnodes) {\n  var result = [];\n\n  function traverse(vnodes) {\n    vnodes.forEach(function (vnode) {\n      result.push(vnode);\n\n      if (vnode.componentInstance) {\n        traverse(vnode.componentInstance.$children.map(function (item) {\n          return item.$vnode;\n        }));\n      }\n\n      if (vnode.children) {\n        traverse(vnode.children);\n      }\n    });\n  }\n\n  traverse(vnodes);\n  return result;\n} // sort children instances by vnodes order\n\n\nexport function sortChildren(children, parent) {\n  var componentOptions = parent.$vnode.componentOptions;\n\n  if (!componentOptions || !componentOptions.children) {\n    return;\n  }\n\n  var vnodes = flattenVNodes(componentOptions.children);\n  children.sort(function (a, b) {\n    return vnodes.indexOf(a.$vnode) - vnodes.indexOf(b.$vnode);\n  });\n}","import { sortChildren } from '../utils/vnodes';\nexport function ChildrenMixin(_parent, options) {\n  var _inject, _computed;\n\n  if (options === void 0) {\n    options = {};\n  }\n\n  var indexKey = options.indexKey || 'index';\n  return {\n    inject: (_inject = {}, _inject[_parent] = {\n      default: null\n    }, _inject),\n    computed: (_computed = {\n      parent: function parent() {\n        if (this.disableBindRelation) {\n          return null;\n        }\n\n        return this[_parent];\n      }\n    }, _computed[indexKey] = function () {\n      this.bindRelation();\n\n      if (this.parent) {\n        return this.parent.children.indexOf(this);\n      }\n\n      return null;\n    }, _computed),\n    watch: {\n      disableBindRelation: function disableBindRelation(val) {\n        if (!val) {\n          this.bindRelation();\n        }\n      }\n    },\n    mounted: function mounted() {\n      this.bindRelation();\n    },\n    beforeDestroy: function beforeDestroy() {\n      var _this = this;\n\n      if (this.parent) {\n        this.parent.children = this.parent.children.filter(function (item) {\n          return item !== _this;\n        });\n      }\n    },\n    methods: {\n      bindRelation: function bindRelation() {\n        if (!this.parent || this.parent.children.indexOf(this) !== -1) {\n          return;\n        }\n\n        var children = [].concat(this.parent.children, [this]);\n        sortChildren(children, this.parent);\n        this.parent.children = children;\n      }\n    }\n  };\n}\nexport function ParentMixin(parent) {\n  return {\n    provide: function provide() {\n      var _ref;\n\n      return _ref = {}, _ref[parent] = this, _ref;\n    },\n    data: function data() {\n      return {\n        children: []\n      };\n    }\n  };\n}","// color\nexport var RED = '#ee0a24'; // border\n\nexport var BORDER = 'van-hairline';\nexport var BORDER_TOP = BORDER + \"--top\";\nexport var BORDER_LEFT = BORDER + \"--left\";\nexport var BORDER_BOTTOM = BORDER + \"--bottom\";\nexport var BORDER_SURROUND = BORDER + \"--surround\";\nexport var BORDER_TOP_BOTTOM = BORDER + \"--top-bottom\";\nexport var BORDER_UNSET_TOP_BOTTOM = BORDER + \"-unset--top-bottom\";","export function isHidden(el) {\n  var style = window.getComputedStyle(el);\n  var hidden = style.display === 'none'; // offsetParent returns null in the following situations:\n  // 1. The element or its parent element has the display property set to none.\n  // 2. The element has the position property set to fixed\n\n  var parentHidden = el.offsetParent === null && style.position !== 'fixed';\n  return hidden || parentHidden;\n}"],"names":["render","_vm","this","_c","_self","cityList","length","staticClass","on","$event","$router","back","attrs","_v","_s","$store","state","cityName","show","model","value","callback","$$v","expression","_l","filterCity","v","key","cityId","name","selectCity","computedList","currrenIndex","item","index","type","newList","_e","staticRenderFns","_createNamespace","create","createComponent","bem","mixins","indexKey","props","Number","String","data","top","left","rect","height","width","active","computed","sticky","parent","anchorStyle","zIndex","transform","color","highlightColor","mounted","$el","getBoundingClientRect","methods","scrollIntoView","getRect","scroller","scrollerRect","el","elRect","window","document","body","_ref","h","arguments","slots","genAlphabet","indexList","charCodeOfA","charCodeAt","i","push","fromCharCode","bind","onScroll","Boolean","default","stickyOffsetTop","Array","activeAnchorIndex","sidebarStyle","highlightStyle","watch","$nextTick","$emit","_this","scrollTop","getScrollerRect","rects","children","map","getActiveAnchorIndex","forEach","Math","max","activeItemTop","prevHeight","reachTop","onClick","event","scrollToElement","target","onTouchMove","touchMove","direction","_event$touches$","touches","clientX","clientY","elementFromPoint","dataset","touchActiveIndex","scrollTo","match","filter","element","onTouchEnd","_this2","Indexes","touchStart","searchList","components","http","url","headers","then","res","message","duration","cityFilter","letter","list","component","flattenVNodes","vnodes","result","traverse","vnode","componentInstance","$children","$vnode","sortChildren","componentOptions","sort","a","b","indexOf","ChildrenMixin","_parent","options","_inject","_computed","inject","disableBindRelation","bindRelation","val","beforeDestroy","concat","ParentMixin","provide","BORDER","BORDER_TOP","BORDER_LEFT","BORDER_BOTTOM","BORDER_SURROUND","BORDER_TOP_BOTTOM","isHidden","style","getComputedStyle","hidden","display","parentHidden","offsetParent","position"],"sourceRoot":""}