"use strict";(self["webpackChunkhello"]=self["webpackChunkhello"]||[]).push([[333],{8333:function(t,e,s){s.r(e),s.d(e,{default:function(){return m}});var a=function(){var t=this,e=t._self._c;return e("div",[e("ul",{staticClass:"filmsDetail"},t._l(t.dataList,(function(s){return e("li",{key:s.filmId,on:{click:function(e){return t.handleChangePage(s.filmId)}}},[e("img",{attrs:{src:s.poster,alt:""}}),e("div",{staticClass:"FilmInformation"},[e("div",[e("span",{staticClass:"name"},[t._v(t._s(s.name)+" ")]),e("span",{staticClass:"item"},[t._v(t._s(s.filmType.name))])]),e("div",[e("span",{staticClass:"label"},[t._v("主演："),s.actors?e("span",[t._v(t._s(t._f("actors")(s.actors)))]):e("span",[t._v("暂无人员")])])]),e("div",{staticClass:"label"},[t._v(" 上映日期："+t._s(t._f("dateFilter")(1e3*s.premiereAt))+" ")])]),s.isPresale?e("div",{staticClass:"buy"},[t._v("预售")]):t._e()])})),0),t.show?e("div",{staticClass:"noMore"},[t._v("无更多电影")]):t._e()])},i=[],n=s(381),l=s.n(n),r=s(8430),o=s(144);o["default"].filter("actors",(t=>t.map((t=>t.name)).join(" "))),o["default"].filter("dateFilter",(t=>{let e=l()(t).format(),s=new Date(e),a=l()(t).day(),i=function(){switch(a){case 1:return"周一";case 2:return"周二";case 3:return"周三";case 4:return"周四";case 5:return"周五";case 6:return"周六";case 0:return"周日"}}();return i+" "+(s.getMonth()+1)+"月"+s.getDate()+"日"}));var c={data(){return{dataList:[],page:1,tag:!0,show:!1}},methods:{handleChangePage(t){this.$store.commit("footerHide"),this.$router.push({name:"详情",params:{myID:t}})},sendRequest(){this.tag=!1,(0,r.Z)({url:`/gateway?cityId=${this.$store.state.cityId}&pageNum=${this.page++}&pageSize=10&type=2&k=2116`,headers:{"X-Host":"mall.film-ticket.film.list"}}).then((t=>{this.dataList.length!=t.data.data.total?(this.dataList.push(...t.data.data.films),this.tag=!0):this.show=!0}))}},mounted(){this.sendRequest();const t=document.documentElement;window.onscroll=()=>{t.scrollHeight-t.clientHeight-40<=t.scrollTop&&this.tag&&this.sendRequest()}},beforeDestroy(){window.onscroll=null}},u=c,d=s(1001),h=(0,d.Z)(u,a,i,!1,null,"e7574c6a",null),m=h.exports}}]);
//# sourceMappingURL=333.5d872c52.js.map